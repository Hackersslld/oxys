-- Function to unload the UI
local function UnloadUI()
    if Rayfield then
        Rayfield:Destroy() -- Unloads the Rayfield UI
    end
end

-- Add Sections and Elements to Scripts Tab 1
for _, script in ipairs(scripts) do
    ScriptsTab:CreateButton({
        Name = script.Name,
        Callback = function()
            local success, errorMsg = pcall(function()
                loadstring(game:HttpGet(script.URL, true))()
            end)
            if not success then
                print("Error executing script: " .. errorMsg)
            end
            UnloadUI() -- Unload the UI after script execution
        end
    })
end

-- Add Sections and Elements to Scripts Tab 2
for _, script in ipairs(scripts2) do
    ScriptsTab2:CreateButton({
        Name = script.Name,
        Callback = function()
            local success, errorMsg = pcall(function()
                loadstring(game:HttpGet(script.URL, true))()
            end)
            if not success then
                print("Error executing script: " .. errorMsg)
            end
            UnloadUI() -- Unload the UI after script execution
        end
    })
end
